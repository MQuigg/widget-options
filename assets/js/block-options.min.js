!function(e,t,o,s){wp.hooks.addFilter("blocks.registerBlockType","widgetopts-attribute",function(e){return e.attributes=Object.assign(e.attributes,{blockOpts:{type:"object"}}),e}),wp.hooks.addFilter("blocks.BlockEdit","widgetopts-inspector-control",function(e){return function(t){var s=wp.element.createElement,i=(wp.i18n.__,wp.blocks.BlockControls,wp.blocks.InspectorControls),n=wp.components.Button,c=(wp.components.TextControl,wp.components.SelectControl),a=wp.components.CheckboxControl,l=wp.components.TextareaControl,p=(wp.components.PanelRow,wp.components.PanelBody),d=wp.components.Dashicon,r=wp.components.Popover,b=Object.assign({},t);b.key="widgetOpts";var g=s(e,b),u=t.isSelected,k=(t.attributes,t.attributes.blockOpts?t.attributes.blockOpts:[]),m=t.attributes.className?t.attributes.className:"",w=!1,v="",_="";return hr=s("div",{className:"components-block-description"},""),void 0!==varWidgetOpts.settings&&void 0!==varWidgetOpts.settings.gutenberg&&void 0!==varWidgetOpts.settings.gutenberg.opened&&"1"==varWidgetOpts.settings.gutenberg.opened&&(w=!0),void 0!==varWidgetOpts.devices&&"activate"==varWidgetOpts.devices&&(_=[s("h3",{},o.__("Device Visibility")),s("p",{},o.__("Show or hide specific blocks on your selected devices.")),s(c,{label:o.__("Show/Hide"),value:void 0!==k.devices&&""!=k.devices?k.devices:"",options:[{label:o.__("Select Visibility Option"),value:"none"},{label:o.__("Hide on Checked Devices"),value:"hide"},{label:o.__("Show on Checked Devices"),value:"show"}],onChange:function(e){delete k.devices,blockOptions=Object.assign({devices:e},k),cname=m.replace(" extendedwopts-show",""),cname=cname.replace(" extendedwopts-hide",""),"none"!=e&&(cname=cname+" extendedwopts-"+e),t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),s(a,{label:o.__("Desktop"),checked:void 0!==k.desktop&&"on"==k.desktop,onChange:function(e){delete k.desktop,cname=m.replace(" extendedwopts-desktop",""),event.target.checked?(blockOptions=Object.assign({desktop:"on"},k),cname+=" extendedwopts-desktop"):blockOptions=k,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),s(a,{label:o.__("Tablet"),checked:void 0!==k.tablet&&"on"==k.tablet,onChange:function(e){delete k.tablet,cname=m.replace(" extendedwopts-tablet",""),event.target.checked?(blockOptions=Object.assign({tablet:"on"},k),cname+=" extendedwopts-tablet"):blockOptions=k,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),s(a,{label:o.__("Mobile"),checked:void 0!==k.mobile&&"on"==k.mobile,onChange:function(e){delete k.mobile,cname=m.replace(" extendedwopts-mobile",""),event.target.checked?(blockOptions=Object.assign({mobile:"on"},k),cname+=" extendedwopts-mobile"):blockOptions=k,t.setAttributes({blockOpts:blockOptions}),t.setAttributes({className:cname})}}),hr]),void 0!==varWidgetOpts.logic&&"activate"==varWidgetOpts.logic&&(v=[s("h3",{},o.__("Display Logic")),s("p",{},o.__("Manage block visibility using valid PHP conditional tags. Please note that the display logic you introduce is EVAL'd directly. There is an optional filter 'block_options_logic_override' which you can use to bypass the EVAL with your own code if needed.")),s(l,{rows:3,value:k.logic,onChange:function(e){delete k.logic,blockOptions=Object.assign({logic:e},k),t.setAttributes({blockOpts:blockOptions})}}),hr]),g=[g,!!u&&s(i,{key:"inspector"},s(p,{title:"Block Options",initialOpen:w},s("div",{className:"components-block-description"},s("div",{className:"editor-block-inspector__card-description"},s("span",{className:"widgetopts-dropcap"},s(d,{icon:"editor-bold"})),s("span",{},o.__("Manage your blocks better using available options below. You can restrict visibilities and add custom display logic using WordPress conditional tags.")))),_,v,s("div",{className:"widgetopts-upgrade",style:{textAlign:"center"}},s(n,{isPrimary:!0,onClick:function(e){expanded=e.target.getAttribute("aria-expanded"),"true"==expanded?(e.target.setAttribute("aria-expanded","false"),document.querySelector(".widgetopts-upgrademore").style.display="none"):(e.target.setAttribute("aria-expanded","true"),document.querySelector(".widgetopts-upgrademore").style.display="block")}},o.__("More Block Options")),s(r,{isOpen:!0,className:"widgetopts-upgrademore",onClick:function(e){}},s("strong",{},o.__("Upgrade to get Extended Block Options!")),s("p",{},s(d,{icon:"yes"}),o.__("Restrictions per User Roles")),s("p",{},s(d,{icon:"yes"}),o.__("Restrict Visibility per Days")),s("p",{},s(d,{icon:"yes"}),o.__("Restrict Visibility per Date Range")),s("p",{},s(d,{icon:"yes"}),o.__("Custom Block Linking")),s("p",{},s(d,{icon:"yes"}),o.__("Custom Alignment per Devices")),s("p",{style:{textAlign:"center"}},s("a",{className:"button button-primary",href:"http://widget-options.com/pricing/?utm_source=blockoptions&utm_medium=gutenberg&ref=1&utm_campaign=popover",target:"_blank"},o.__("Upgrade Now")))))))]}})}(window.wp.hooks,window.wp.blocks,window.wp.i18n,window.wp.element);